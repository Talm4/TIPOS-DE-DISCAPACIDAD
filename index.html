<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tipos de Discapacidad</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
:root{
  --primary-blue:#1a5276;
  --secondary-blue:#2980b9;
  --brand-green:#78bb1e;
  --brand-green-light:#f1f9e9;
  --text-dark:#1e293b;
  --text-light:#475569;
  --shadow:0 10px 20px rgba(0,0,0,.08);
  --radius:16px;
}

*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:'Inter',sans-serif;
}

body{
  background:#ffffff;
  color:var(--text-dark);
  padding:20px 15px 40px 15px;
}

.main-container{
  width:100%;
  max-width:1100px;
  margin:0 auto;
  display:flex;
  flex-direction:column;
  gap:25px;
}

.title{
  text-align:center;
  font-weight:800;
  font-size:1.6rem;
  color:var(--primary-blue);
}

.mindmap{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:15px;
}

.node{
  background:#fff;
  border:2px solid var(--brand-green);
  border-radius:12px;
  padding:15px;
  text-align:center;
  cursor:pointer;
  transition:.3s ease;
  font-weight:600;
  color:var(--primary-blue);
  box-shadow:0 4px 10px rgba(0,0,0,.05);
}

.node:hover{
  background:var(--brand-green-light);
  transform:translateY(-3px);
}

.node.active{
  background:var(--brand-green);
  color:#fff;
  border-color:var(--brand-green);
}

.info-panel{
  display:none;
  background:#fff;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
  animation:fadeIn .4s ease;
}

.info-image{
  width:100%;
  max-height:300px;
  object-fit:cover;
}

.info-content{
  padding:25px;
}

.info-title{
  font-size:1.4rem;
  font-weight:800;
  color:var(--primary-blue);
  margin-bottom:10px;
}

.info-desc{
  color:var(--text-light);
  line-height:1.6;
}

#completion-msg{
  display:none;
  padding:15px;
  background:var(--brand-green);
  color:#fff;
  text-align:center;
  border-radius:8px;
  font-weight:600;
  margin-top:10px;
  animation:fadeIn .4s ease;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}

@media(max-width:600px){
  body{
    padding:15px 10px 30px 10px;
  }
  .info-content{
    padding:20px;
  }
}
</style>
</head>

<body>

<div class="main-container">

  <div class="title">Tipos de Discapacidad</div>

  <div class="mindmap">
    <div class="node" data-type="fisica">Discapacidad Física</div>
    <div class="node" data-type="sensorial">Discapacidad Sensorial</div>
    <div class="node" data-type="intelectual">Intelectual o Mental</div>
    <div class="node" data-type="siquica">Discapacidad Psíquica</div>
    <div class="node" data-type="visceral">Discapacidad Visceral</div>
    <div class="node" data-type="multiple">Discapacidad Múltiple</div>
  </div>

  <div class="info-panel" id="infoPanel">
    <img id="panelImg" class="info-image" src="" alt="">
    <div class="info-content">
      <div class="info-title" id="panelTitle"></div>
      <div class="info-desc" id="panelDesc"></div>
    </div>
  </div>

  <div id="completion-msg">
    ¡Excelente! Has revisado todos los tipos de discapacidad. Puedes continuar.
  </div>

</div>

<script>

const data={
  fisica:{
    title:"Física",
    img:"img/fisica.png",
    desc:"Afecta la movilidad, coordinación o equilibrio. Puede limitar el desplazamiento o manipulación de objetos."
  },
  sensorial:{
    title:"Sensorial",
    img:"img/sensorial.png",
    desc:"Deficiencias visuales, auditivas o del lenguaje que afectan la percepción y comunicación."
  },
  intelectual:{
    title:"Intelectual o Mental",
    img:"img/intelectual.png",
    desc:"Limitaciones en el funcionamiento intelectual y conductas adaptativas como comunicación y autonomía."
  },
  siquica:{
    title:"Psíquica",
    img:"img/siquica.png",
    desc:"Trastornos del comportamiento adaptativo considerados previsiblemente permanentes."
  },
  visceral:{
    title:"Visceral",
    img:"img/visceral.png",
    desc:"Deficiencias en órganos internos como cardíacos o metabólicos que afectan la vida diaria."
  },
  multiple:{
    title:"Múltiple",
    img:"img/multiple.png",
    desc:"Presencia simultánea de dos o más discapacidades en diferentes grados."
  }
};

const nodes=document.querySelectorAll('.node');
const panel=document.getElementById('infoPanel');
const visited=new Set();

nodes.forEach(n=>{
  n.addEventListener('click',function(){
    const type=this.dataset.type;
    const info=data[type];

    document.getElementById('panelImg').src=info.img;
    document.getElementById('panelTitle').innerText=info.title;
    document.getElementById('panelDesc').innerText=info.desc;

    nodes.forEach(x=>x.classList.remove('active'));
    this.classList.add('active');

    panel.style.display='block';
    panel.scrollIntoView({behavior:'smooth',block:'nearest'});

    visited.add(type);

    if(visited.size===Object.keys(data).length){
      document.getElementById('completion-msg').style.display='block';
      window.parent.postMessage("completed","*");
    }
  });
});

document.getElementById('panelImg').onerror=function(){
  this.src="https://via.placeholder.com/800x400/f1f5f9/78bb1e?text=Imagen+Ilustrativa";
};

</script>

</body>
</html>
